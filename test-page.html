<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { color: #22c55e; }
        .error { color: #ef4444; }
        .info { color: #3b82f6; }
        h1 { color: #1f2937; }
        h2 { color: #4b5563; margin-top: 0; }
        pre {
            background: #f3f4f6;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .status-ok { background: #dcfce7; color: #166534; }
        .status-fail { background: #fee2e2; color: #991b1b; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Portfolio Module Test Page</h1>
    
    <div class="test-section">
        <h2>Module Loading Status</h2>
        <div id="module-status"></div>
    </div>

    <div class="test-section">
        <h2>Console Logs</h2>
        <div id="console-logs"></div>
    </div>

    <div class="test-section">
        <h2>Quick Actions</h2>
        <button onclick="location.href='index.html'" style="padding: 10px 20px; margin: 5px; cursor: pointer;">
            Go to Main Site
        </button>
        <button onclick="location.reload()" style="padding: 10px 20px; margin: 5px; cursor: pointer;">
            Refresh Test
        </button>
    </div>

    <!-- Load all modules in order -->
    <script src="js/modules/config.js"></script>
    <script src="js/modules/utils.js"></script>
    <script src="js/modules/dom.js"></script>
    <script src="js/services/ProjectService.js"></script>
    <script src="js/services/FormService.js"></script>
    <script src="js/modules/animations.js"></script>
    <script src="js/modules/ui.js"></script>
    <script src="js/app.js"></script>

    <script>
        // Capture console logs
        const logs = [];
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;

        console.log = function(...args) {
            logs.push({ type: 'log', message: args.join(' ') });
            originalLog.apply(console, args);
        };

        console.error = function(...args) {
            logs.push({ type: 'error', message: args.join(' ') });
            originalError.apply(console, args);
        };

        console.warn = function(...args) {
            logs.push({ type: 'warn', message: args.join(' ') });
            originalWarn.apply(console, args);
        };

        // Test module loading
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('module-status');
            const logsDiv = document.getElementById('console-logs');

            const modules = [
                { name: 'Config', obj: typeof Config !== 'undefined' ? Config : null },
                { name: 'Utils', obj: typeof Utils !== 'undefined' ? Utils : null },
                { name: 'DOM', obj: typeof DOM !== 'undefined' ? DOM : null },
                { name: 'ProjectService', obj: typeof projectService !== 'undefined' ? projectService : null },
                { name: 'FormService', obj: typeof formService !== 'undefined' ? formService : null },
                { name: 'Animations', obj: typeof Animations !== 'undefined' ? Animations : null },
                { name: 'UI', obj: typeof UI !== 'undefined' ? UI : null },
                { name: 'App', obj: typeof App !== 'undefined' ? App : null }
            ];

            let html = '<table style="width: 100%; border-collapse: collapse;">';
            html += '<tr style="background: #f3f4f6;"><th style="padding: 10px; text-align: left;">Module</th><th style="padding: 10px; text-align: left;">Status</th></tr>';
            
            modules.forEach(module => {
                const status = module.obj ? 
                    '<span class="status-badge status-ok">âœ“ LOADED</span>' : 
                    '<span class="status-badge status-fail">âœ— FAILED</span>';
                html += `<tr><td style="padding: 10px;">${module.name}</td><td style="padding: 10px;">${status}</td></tr>`;
            });
            
            html += '</table>';
            statusDiv.innerHTML = html;

            // Display console logs
            if (logs.length > 0) {
                let logsHtml = '<div style="max-height: 300px; overflow-y: auto;">';
                logs.forEach(log => {
                    const color = log.type === 'error' ? 'error' : log.type === 'warn' ? '#f59e0b' : 'info';
                    logsHtml += `<div style="margin: 5px 0; padding: 8px; background: #f9fafb; border-left: 3px solid var(--${color}); border-radius: 4px;">`;
                    logsHtml += `<strong style="text-transform: uppercase; color: var(--${color});">${log.type}:</strong> ${log.message}`;
                    logsHtml += '</div>';
                });
                logsHtml += '</div>';
                logsDiv.innerHTML = logsHtml;
            } else {
                logsDiv.innerHTML = '<p class="info">No console messages yet.</p>';
            }

            // Summary
            const loadedCount = modules.filter(m => m.obj).length;
            const totalCount = modules.length;
            
            if (loadedCount === totalCount) {
                statusDiv.innerHTML = '<p class="success">âœ“ All modules loaded successfully!</p>' + html;
            } else {
                statusDiv.innerHTML = `<p class="error">âœ— Only ${loadedCount}/${totalCount} modules loaded</p>` + html;
            }
        });
    </script>
</body>
</html>
